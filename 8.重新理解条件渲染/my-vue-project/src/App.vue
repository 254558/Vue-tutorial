<template>
  <div class="p-4">
    <h1>æ¡ä»¶æ¸²æŸ“ç¤ºä¾‹</h1>

    <!-- 1. v-if / v-else-if / v-else -->
    <div>
      <h2>v-if / v-else-if / v-else ç¤ºä¾‹</h2>
      <button @click="changeStatus">åˆ‡æ¢çŠ¶æ€</button>
      <p v-if="status === 'loading'">åŠ è½½ä¸­...</p>
      <p v-else-if="status === 'success'">åŠ è½½æˆåŠŸï¼ğŸ‰</p>
      <p v-else>åŠ è½½å¤±è´¥ï¼Œè¯·é‡è¯•ã€‚</p>
    </div>

    <hr />

    <!-- 2. v-show ç¤ºä¾‹ -->
    <div>
      <h2>v-show ç¤ºä¾‹</h2>
      <label>
        <input type="checkbox" v-model="showDetails" />
        æ˜¾ç¤ºè¯¦æƒ…
      </label>
      <p v-show="showDetails">è¿™é‡Œæ˜¯ä¸€äº›é¢å¤–çš„è¯¦æƒ…å†…å®¹ã€‚</p>
    </div>

    <hr />

    <!-- 3. ä½¿ç”¨ template åŒ…è£¹å¤šä¸ª v-if å…ƒç´  -->
    <div>
      <h2>ä½¿ç”¨ &lt;template&gt; åŒ…è£¹å¤šä¸ªå…ƒç´ </h2>
      <template v-if="isLoggedIn">
        <p>æ¬¢è¿å›æ¥ï¼Œç”¨æˆ·ï¼</p>
        <button @click="logout">é€€å‡ºç™»å½•</button>
      </template>
      <template v-else>
        <p>è¯·å…ˆç™»å½•ä»¥ç»§ç»­ã€‚</p>
        <button @click="login">ç™»å½•</button>
      </template>
    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue'

// ç”¨äº v-if / v-else-if / v-else
const status = ref('loading')
const statusOptions = ['loading', 'success', 'error']
let index = 0
function changeStatus() {
  index = (index + 1) % statusOptions.length
  status.value = statusOptions[index]
}

// ç”¨äº v-show
const showDetails = ref(false)

// ç”¨äº template æ¡ä»¶æ¸²æŸ“
const isLoggedIn = ref(false)
function login() {
  isLoggedIn.value = true
}
function logout() {
  isLoggedIn.value = false
}
</script>

<style scoped>
h1 {
  font-size: 24px;
  margin-bottom: 16px;
}
h2 {
  font-size: 18px;
  margin-top: 20px;
}
button {
  margin-top: 8px;
  padding: 6px 12px;
  font-size: 14px;
}
hr {
  margin: 24px 0;
  border: none;
  border-top: 1px solid #ccc;
}
</style>